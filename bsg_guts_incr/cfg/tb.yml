# tb.yml - Simulation Testbench Configuration

# List of Verilog testbenches (or other sources) needed for simulations.
sim.inputs.tb_input_files: [
  # Basejump STL sources
  "${bsg_root}/bsg_test/bsg_nonsynth_clock_gen.v",
  "${bsg_root}/bsg_test/bsg_nonsynth_reset_gen.v",
  "${bsg_root}/bsg_test/bsg_nonsynth_val_watcher_1p.v",
  "${bsg_root}/bsg_test/test_bsg_data_gen.v",
  "${bsg_root}/bsg_fsb/bsg_fsb_node_trace_replay.v",

  # Boards sources
  "../common/v/boards/bsg_double_trouble_pcb.v",
  "../common/v/boards/bsg_asic_socket.v",
  "../common/v/boards/bsg_gateway_socket.v",

  # Manycore sources
  "../common/v/manycore/bsg_manycore_spmd_loader.v",
  "../common/v/manycore/bsg_manycore_vscale_pipeline_trace.v",
  "../common/v/manycore/bsg_nonsynth_manycore_io_complex.v",
  "../common/v/manycore/bsg_nonsynth_manycore_monitor.v",
  "../common/v/manycore/bsg_1hold.v",
  "../common/v/manycore/bsg_manycore_endpoint.v",
  "../common/v/manycore/bsg_manycore_endpoint_standard.v",
  "../common/v/manycore/bsg_manycore_links_to_fsb.v",
  "../common/v/manycore/bsg_manycore_pkt_decode.v",
  "../common/v/manycore/bsg_manycore_swap_ctrl.v",

  # Toplevel sources
  "v/bsg_gateway_chip.v",
  "v/bsg_test_node_master.v",
]
sim.inputs.tb_input_files_meta: [subst]

# Toplevel simulation module name
sim.inputs.tb_name: "bsg_double_trouble_pcb"

# Search directories for `include directives in simulations
sim.inputs.tb_incdir: [
  "${bsg_root}/bsg_misc",
  "${bsg_root}/bsg_noc",
  "../common/v/packaging",
  "../common/v/manycore",
]
sim.inputs.tb_incdir_meta: [subst]

# Macro definitions for simulations
sim.inputs.tb_defines: [
  "FSB_LEGACY=1",
  "NUM_MASTER_NODES=1",
  "CORE_0_PERIOD=20000", # For ASIC
  "IO_MASTER_0_PERIOD=15000", # For ASIC
  "CORE_1_PERIOD=20000", # For testbench
  "IO_MASTER_1_PERIOD=15000", # For testbench
]
sim.inputs.tb_defines_meta: [subst]

# List of trace files for the simulation
sim.inputs.trace_files: [
  "v/bsg_trace_master_0.tr" # Incrementer trace file
]
sim.inputs.trace_files_meta: [subst]







# Extra simulation arguments, add these directories to VCS search path
sim.inputs.options: [

]
sim.inputs.options_meta: [append, subst]

# List of trace files for the simulation
sim.inputs.trace_files: [
  v/bsg_trace_master_0.tr # Incrementer trace file
]
